<!DOCTYPE html>
<html>
<head>
    <title>EmailJS Debug Test</title>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
</head>
<body>
    <h1>EmailJS Debug Test</h1>
    <button onclick="testEmailJS()">Test EmailJS</button>
    <button onclick="checkEmailJS()">Check EmailJS Status</button>
    <div id="result"></div>
    <div id="status"></div>

    <script>
        function checkEmailJS() {
            const statusDiv = document.getElementById('status');
            statusDiv.innerHTML = 'Checking EmailJS...';
            
            console.log('EmailJS loaded:', typeof emailjs !== 'undefined');
            console.log('EmailJS version:', emailjs ? 'Loaded' : 'Not loaded');
            
            if (typeof emailjs !== 'undefined') {
                statusDiv.innerHTML = '<p style="color: green;">✅ EmailJS is loaded</p>';
            } else {
                statusDiv.innerHTML = '<p style="color: red;">❌ EmailJS not loaded</p>';
            }
        }
        
        function testEmailJS() {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = 'Testing...';
            
            console.log('=== EmailJS Debug Test ===');
            console.log('Public Key:', 'ENoM09n00QXGhJF1H');
            console.log('Service ID:', 'service_codeknox');
            console.log('Template ID:', 'template_s4f06ng');
            
            // Initialize EmailJS
            emailjs.init('ENoM09n00QXGhJF1H');
            
            // Test with minimal data first
            const testData = {
                to_email: "hellocodeknox@gmail.com",
                to_name: "Test",
                from_name: "Debug Test",
                from_email: "debug@test.com",
                message: "This is a debug test email"
            };
            
            console.log('Sending test data:', testData);
            
            emailjs.send('service_codeknox', 'template_s4f06ng', testData)
                .then(function(response) {
                    console.log('SUCCESS:', response);
                    resultDiv.innerHTML = `
                        <p style="color: green;">✅ EmailJS Test SUCCESS!</p>
                        <p>Status: ${response.status}</p>
                        <p>Text: ${response.text}</p>
                        <p>Check hellocodeknox@gmail.com for the email</p>
                    `;
                })
                .catch(function(error) {
                    console.error('ERROR:', error);
                    resultDiv.innerHTML = `
                        <p style="color: red;">❌ EmailJS Test FAILED</p>
                        <p>Status: ${error.status}</p>
                        <p>Text: ${error.text}</p>
                        <p>Full Error: ${JSON.stringify(error, null, 2)}</p>
                    `;
                });
        }
        
        // Check on page load
        window.onload = function() {
            checkEmailJS();
        };
    </script>
</body>
</html>
